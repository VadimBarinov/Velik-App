{%load static%} {%load catalog_tags%}
<div class="container">
  <div
    id="carouselExampleDark"
    class="carousel carousel-dark slide my-border border"
  >
    <div class="carousel-indicators">
      <button
        type="button"
        data-bs-target="#carouselExampleDark"
        data-bs-slide-to="0"
        class="active btn small-indicator"
        aria-current="true"
        aria-label="Slide 1"
      ></button>
      <button
        type="button"
        data-bs-target="#carouselExampleDark"
        data-bs-slide-to="1"
        class="btn small-indicator"
        aria-label="Slide 2"
      ></button>
      <button
        type="button"
        data-bs-target="#carouselExampleDark"
        data-bs-slide-to="2"
        class="btn small-indicator"
        aria-label="Slide 3"
      ></button>
    </div>
    <div class="carousel-inner">
      {% for bike in bikes %} {% if forloop.first %}
      <a class="onclick-card" href="{{bike.get_absolute_url}}">
        <div class="carousel-item active">
          <div class="row d-flex">
            <div class="carousel-img col-12 col-lg-7">
              
              {% if bike.img_url|find_image %}
              <img src="{{ bike.img_url.url }}" class="d-block" />
              {% else %}
              <img src="{{ default_img }}" class="d-block" />
              {% endif %}
                
            </div>
            <div
              class="carousel-dark d-block carousel-text col-12 col-lg-5 pe-lg-5 mb-5 mb-md-0 mb-lg-0"
            >
              <div class="ps-md-5 pe-md-5 pt-md-5 ps-lg-0 pe-lg-0 pt-lg-0">
                <h5>{{bike.mark.name}} {{bike.name}}</h5>
              </div>
              <div class="ms-1 me-1 ms-md-5 me-md-5 ms-lg-0 me-lg-5 mt-md-3 mt-lg-3">
                <table class="table-carousel my-border">
                  <tbody> 
                    {% get_random_characteristics bikes_characteristics bike.slug as characteristics_values %} 
                    {% for key, value in characteristics_values %}
                    <tr>
                      <td class="text-grey">{{key}}</td>
                      <td>{{value}}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </a>
      {% else %}
      <a class="onclick-card" href="{{bike.get_absolute_url}}">
        <div class="carousel-item">
          <div class="row d-flex">
            <div class="carousel-img col-12 col-lg-7">

              {% if bike.img_url|find_image %}
              <img src="{{ bike.img_url.url }}" class="d-block" />
              {% else %}
              <img src="{{ default_img }}" class="d-block" />
              {% endif %}
              
            </div>
            <div
              class="carousel-dark d-block carousel-text col-12 col-lg-5 pe-lg-5 mb-5 mb-md-0 mb-lg-0"
            >
              <div class="ps-md-5 pe-md-5 pt-md-5 ps-lg-0 pe-lg-0 pt-lg-0">
                <h5>{{bike.mark.name}} {{bike.name}}</h5>
              </div>
              <div class="ms-1 me-1 ms-md-5 me-md-5 ms-lg-0 me-lg-5 mt-md-3 mt-lg-3">
                <table class="table-carousel my-border">
                  <tbody> 
                    {% get_random_characteristics bikes_characteristics bike.slug as characteristics_values %} 
                    {% for key, value in characteristics_values %}
                    <tr>
                      <td class="text-grey">{{key}}</td>
                      <td>{{value}}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </a>

      {% endif %} {% endfor %}
    </div>
    <button
      class="d-none d-md-block d-lg-block carousel-control-prev carousel-controls"
      type="button"
      data-bs-target="#carouselExampleDark"
      data-bs-slide="prev"
    >
      <img
        src="{%static 'catalog/images/prev.svg'%}"
        aria-hidden="true"
        alt="prev"
      />
    </button>
    <button
      class="d-none d-md-block d-lg-block carousel-control-next carousel-controls"
      type="button"
      data-bs-target="#carouselExampleDark"
      data-bs-slide="next"
    >
      <img
        src="{%static 'catalog/images/next.svg'%}"
        aria-hidden="true"
        alt="next"
      />
    </button>
  </div>
</div>
